#!/usr/bin/env php
<?php

// If we're running from phar load the phar autoload file.

$pharPath = \Phar::running(true);
if ($pharPath) {
    $autoloaderPath = "$pharPath/vendor/autoload.php";
} else {
    if (file_exists(__DIR__.'/vendor/autoload.php')) {
        $autoloaderPath = __DIR__.'/vendor/autoload.php';
    } elseif (file_exists(__DIR__.'/../vendor/autoload.php')) {
        $autoloaderPath = __DIR__ . '/../vendor/autoload.php';
    } elseif (file_exists(__DIR__.'/../autoload.php')) {
        $autoloaderPath = __DIR__ . '/../autoload.php';
    } else {
        die("Could not find autoloader. Run 'composer install'.");
    }
}
$classLoader = require $autoloaderPath;

$input = new \Symfony\Component\Console\Input\ArgvInput($argv);
$output = new \Symfony\Component\Console\Output\ConsoleOutput();

$app = new \Juanca\RoboTaskUtility\MyApplication($classLoader);
$status_code = $app->run($input, $output);
exit($status_code);
